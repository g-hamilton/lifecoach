<app-auth-navbar></app-auth-navbar>

<div class="full-page register-page">
  <div class=" content">
    <div class=" container">
      <div class=" row">

        <!-- Steps -->
        <div class=" col-md-5 ml-auto">
          <div class=" info-area info-horizontal mt-5">
            <div class=" icon display-5 text-success">
              <i class="far fa-check-circle"></i>
            </div>
            <div class=" description">
              <h3 class=" info-title"> Email Confirmed! </h3>
              <p class=" description">
                Now let's complete a few simple details to get your Lifecoach account set up...
              </p>
            </div>
          </div>
        </div>

        <!-- Signup Card -->
        <div class=" col-md-7 mr-auto">
          <div class=" card card-register card-white">
            <div class=" card-header">
              <img
                alt="Card image"
                class=" card-img"
                src="assets/img/card-primary.png"
              />

              <h4 class=" card-title"> name </h4>
            </div>
            <form
              class=" form"
              id="RegisterValidation"
              [formGroup]="registerForm"
              (ngSubmit)="onRegister()"
            >
              <div class=" card-body">

                <div class=" row">
                  <div class=" col-sm-12 col-md-6">
                    <!-- user type -->
                    <div class="form-group">
                      <select id="account-type" class="form-control" formControlName="accountType">
                        <option [ngValue]="null"> Select Account Type... </option>
                        <option value='regular'>
                          I'm looking for coaching
                        </option>
                        <option value='coach'>
                          I'm a Coach
                        </option>
                        <option value='partner'>
                          I'm a Promotinal Partner
                        </option>
                      </select>
                    </div>
                    <div *ngIf="(registerAttempt && registerF.accountType.errors)" class=" mt-2">
                      <label
                      *ngFor="let error of objKeys(registerF.accountType.errors)"
                      class="error custom-error-label"
                      >{{ showError('accountType', error) }}
                      </label>
                  </div>
                  </div>
                </div>

                <div class=" row mt-2">
                  <!-- First Name -->
                  <div class=" col-sm-12 col-md-6">
                    <div
                    class=" input-group"
                    [ngClass]="{
                      'has-danger': ((focusTouched && registerF.firstName.value != '' || registerAttempt) && registerF.firstName.errors),
                      'has-success': !registerF.firstName.errors
                    }"
                    >
                      <div class=" input-group-prepend">
                        <div class=" input-group-text">
                          <i class=" tim-icons icon-single-02"> </i>
                        </div>
                      </div>
                      <input
                        class=" form-control"
                        name="firstName"
                        formControlName="firstName"
                        placeholder="First Name"
                        type="text"
                        (focus)="focusTouched = true"
                        required=""
                      />
                    </div>
                    <div *ngIf="((focusTouched && registerF.firstName.value != '' || registerAttempt) && registerF.firstName.errors)">
                      <label
                      *ngFor="let error of objKeys(registerF.firstName.errors)"
                      class="error custom-error-label"
                      >{{ showError('firstName', error) }}
                      </label>
                    </div>
                  </div>

                  <!-- Last Name -->
                  <div class=" col-sm-12 col-md-6">
                    <div
                    class=" input-group"
                    [ngClass]="{
                      'has-danger': ((focusTouched1 && registerF.lastName.value != '' || registerAttempt) && registerF.lastName.errors),
                      'has-success': !registerF.lastName.errors
                    }"
                    >
                      <div class=" input-group-prepend">
                        <div class=" input-group-text">
                          <i class=" tim-icons icon-single-02"> </i>
                        </div>
                      </div>
                      <input
                        class=" form-control"
                        name="lastName"
                        formControlName="lastName"
                        placeholder="Last Name"
                        type="text"
                        (focus)="focusTouched1 = true"
                        required=""
                      />
                    </div>
                    <div *ngIf="((focusTouched1 && registerF.lastName.value != '' || registerAttempt) && registerF.lastName.errors)">
                      <label
                      *ngFor="let error of objKeys(registerF.lastName.errors)"
                      class="error custom-error-label"
                      >{{ showError('lastName', error) }}
                      </label>
                    </div>
                  </div>
                </div>

                <div class=" mt-3 text-right">
                  <button
                  class=" btn btn-primary btn-block btn-lg"
                  type="submit"
                  >
                    <span
                    *ngIf="register"
                    class="spinner-border spinner-border-sm"
                    role="status"
                    ></span> {{ register ? 'Preparing Your Account ' + registerF.firstName.value + '...' : 'Complete Sign Up!'}} 
                  </button>
                </div>

                <hr>

                <!-- Terms & Conditions -->
                <div class=" text-center text-muted mt-3">
                  By signing up, you agree to our
                  <a href="https://lifecoach.freshdesk.com/a/solutions/articles/47000883660" target="_blank"> 
                  terms and conditions. 
                  </a>
                </div>

              </div>

            </form>
          </div>
        </div>
      </div>
    </div>
    <app-footer></app-footer>
  </div>
</div>
