<div class=" content">
    <!-- Row 1 -->
    <div class=" row">
        <div class=" col-md-8">
            <div class=" card">
                <div class=" card-header">
                    <h5 class=" card-category"> Platform Rates </h5>
                    <h3 class=" card-title"> Update Rates </h3>
                </div>
                <div class=" card-body">
                    <h5 *ngIf="rates?.timestamp">
                        Last Updated: <span class="text-success">{{ lastUpdated }}</span>
                    </h5>
                    <p class="text-muted">
                        Perform a manual update of the platform rates.
                        Note: This is normally not required as rates auto update hourly.
                        Fetches live rate data from <a href="https://openexchangerates.org/" target="_blank">Open Exchange Rates</a>.
                    </p>
                    <button type="button" class=" btn btn-danger btn-fill btn-round" (click)="updateRates()">
                        <span
                        *ngIf="updatingRates"
                        class="spinner-border spinner-border-sm"
                        role="status"
                        ></span> {{ updatingRates ? 'Updating...' : 'Update Platform Rates'}} 
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- End of row 1 -->
    <!-- Row 2 -->
    <div *ngIf="rates" class=" row">
        <div class=" col-lg-12">
        <div class=" card">
            <div class=" card-header">
            <h5 class=" card-title"> Current Rates (Based on USD) </h5>
            </div>
            <div class=" card-body">
            <div class=" table-responsive">
                <table class=" table">
                <thead class=" text-primary">
                    <tr>
                    <th> Currency </th>
                    <th> Rate </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let key of sortedKeys">
                    <td> {{ key }} </td>
                    <td> {{ rates[key] }} </td>
                    </tr>
                </tbody>
                </table>
            </div>
            </div>
        </div>
        </div>
    </div>
    <!-- End of row 2 -->
</div>