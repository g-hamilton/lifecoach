<div class=" content">

    <h4 class=" title"> My Coaching Products & Services 
    </h4>
    <p class=" small text-muted pl-2 mb-2">
        <i class="fas fa-info-circle"></i> Add your coaching products and services to link them to your Lifecoach profile 
        and promote them through the platform. Enjoy all of the benefits listed below...
    </p>

    <!-- services -->
    <div id="coach-services">
        
        <div class="row mt-5">
            <div class="col">
                <h5 class=" title"> My Bespoke Services </h5>
                <p class=" small text-muted pl-2 mb-2">
                    <i class="fas fa-info-circle"></i> Bespoke coaching allows you to promote 
                        & sell coaching sessions where you tailor every coaching session to the unique 
                        and specific needs of your clients. While you still promote a general area 
                        of focus for your coaching, bespoke services are different to programs 
                        because they do not have a set number of sessions and they allow you to set unique 
                        goals for every one of your clients. Users can purchase single sessions or 
                        session bundles if you choose. Both you and your clients benefit from our smooth payment flow, 
                        trusted, impartial refund guarantee, easy scheduling tools and our coaching centred 
                        video conferencing platform - helping your clients to keep track of their history 
                        with you and giving you a simple but powerful Client Relationship Manager to keep on top 
                        of your leads, clients and their history.
                        Want to read more? <a href="" target="_blank">Read the guide.</a>
                </p>
            </div>
        </div>
        <div class=" row mt-2">
            <div class=" col">
                <button
                    type="button"
                    class=" btn btn-primary btn-fill btn-round pull-right mb-3"
                    (click)="createService()"
                    [disabled]="!userProfile">
                    <i class=" tim-icons icon-simple-add"></i> Create Service
                </button>
            </div>
        </div>

        <!-- No public coach profile -->
        <div class=" row" *ngIf="!userProfile">
            <div class=" col">
                <div class=" card">
                    <div class=" card-body">
                        <p class="p-4">
                            Before you can create bespoke coaching services, you must complete your public coach profile. 
                            Let's <a [routerLink]="['/profile']">
                                complete your profile now.
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- public profile but no services created yet -->
        <div class=" row" *ngIf="userProfile && (!publishedServices || publishedServices && publishedServices.length === 0)">
            <div class=" col">
                <div class=" card">
                    <div class=" card-body">
                        <p class="p-4">
                            You haven't created any bespoke coaching services yet. Let's 
                            <a [routerLink]="['/my-services', 'new-service']">
                                create one now!
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- coach has created at least 1 service -->
        <div class=" row mt-3" *ngIf="publishedServices && publishedServices.length > 0">
            <div *ngFor="let service of publishedServices ; let i = index" class=" col-md-4">
                <a [routerLink]="['/my-services', service.serviceId, 'content']">
                    <div class=" card">

                        <img
                        class="card-img-top"
                        [src]="service.image ? service.image : 'assets/img/awaiting-image.png'"
                        [alt]="service.title" />

                        <div class=" card-body">
                            <h4 class="card-title"> {{ service?.title }} </h4>
                            <h6 class="card-subtitle mb-2 text-muted"> {{ service?.subtitle }} </h6>
                            <div>
                                <span *ngIf="service?.reviewRequest?.status === 'submitted'" class=" badge badge-info ml-2">
                                    SUBMITTED FOR REVIEW
                                </span>
                                <span *ngIf="service?.reviewRequest?.status === 'approved'" class=" badge badge-success ml-2">
                                    PUBLISHED
                                </span>
                                <span *ngIf="service?.reviewRequest?.status === 'rejected'" class=" badge badge-danger ml-2">
                                    NEEDS ACTION
                                </span>
                                <span *ngIf="!service?.reviewRequest?.status" class=" badge badge-warning ml-2">
                                    DRAFT
                                </span>
                            </div>
                        </div>
                    </div>
                </a>
                
            </div>
        </div>
    </div>
    <!-- end of services -->

    <!-- Programs -->
    <div id="coach-programs">
        
        <div class="row mt-5">
            <div class="col">
                <h5 class=" title"> My Programs </h5>
                <p class=" small text-muted pl-2 mb-2">
                    <i class="fas fa-info-circle"></i> Package your coaching sessions into well defined goal
                    or outcome based coaching programs with a set number of sessions.
                    Users can purchase your full program or pay per session if you choose to allow it. 
                    By purchasing through Lifecoach, both you and your clients benefit from our smooth payment flow, 
                    trusted, impartial refund guarantee, easy scheduling tools and our coaching centred 
                    video conferencing platform - helping your clients to keep track of their history 
                    with you and giving you a simple but powerful Client Relationship Manager to keep on top 
                    of your leads, clients and their history.
                    Want to read more? <a href="https://lifecoach.freshdesk.com/en/support/solutions/articles/47001167911-what-are-lifecoach-coaching-programs-" target="_blank">Read the guide.</a>
                </p>
            </div>
        </div>
        <div class=" row mt-2">
            <div class=" col">
                <button
                    type="button"
                    class=" btn btn-primary btn-fill btn-round pull-right mb-3"
                    (click)="createProgram()"
                    [disabled]="!userProfile">
                    <i class=" tim-icons icon-simple-add"></i> Create Program
                </button>
            </div>
        </div>

        <!-- No public coach profile -->
        <div class=" row" *ngIf="!userProfile">
            <div class=" col">
                <div class=" card">
                    <div class=" card-body">
                        <p class="p-4">
                            Before you can create coaching programs, you must complete your public coach profile. 
                            Let's <a [routerLink]="['/profile']">
                                complete your profile now.
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- public profile but no programs created yet -->
        <div class=" row" *ngIf="userProfile && (!publishedPrograms || publishedPrograms && publishedPrograms.length === 0)">
            <div class=" col">
                <div class=" card">
                    <div class=" card-body">
                        <p class="p-4">
                            You haven't created any coaching programs yet. Let's 
                            <a [routerLink]="['/my-programs', 'new-program']">
                                create one now!
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- coach has created at least 1 program -->
        <div class=" row mt-3" *ngIf="publishedPrograms && publishedPrograms.length > 0">
            <div *ngFor="let program of publishedPrograms ; let i = index" class=" col-md-4">
                <a [routerLink]="['/my-programs', program.programId, 'content']">
                    <div class=" card">

                        <img
                        class="card-img-top"
                        [src]="program.image ? program.image : 'assets/img/awaiting-image.png'"
                        [alt]="program.title" />

                        <div class=" card-body">
                            <h4 class="card-title"> {{ program?.title }} </h4>
                            <h6 class="card-subtitle mb-2 text-muted"> {{ program?.subtitle }} </h6>
                            <div>
                                <span *ngIf="program?.reviewRequest?.status === 'submitted'" class=" badge badge-info ml-2">
                                    SUBMITTED FOR REVIEW
                                </span>
                                <span *ngIf="program?.reviewRequest?.status === 'approved'" class=" badge badge-success ml-2">
                                    PUBLISHED
                                </span>
                                <span *ngIf="program?.reviewRequest?.status === 'rejected'" class=" badge badge-danger ml-2">
                                    NEEDS ACTION
                                </span>
                                <span *ngIf="!program?.reviewRequest?.status" class=" badge badge-warning ml-2">
                                    DRAFT
                                </span>
                            </div>
                        </div>
                    </div>
                </a>
                
            </div>
        </div>
    </div>
    <!-- end of programs -->

    <!-- eCourses -->
    <div id="coach-e-courses">

        <div class="row mt-5">
            <div class="col">
                <h5 class=" title"> My eCourses </h5>
                <p class=" small text-muted pl-2 mb-2">
                    <i class="fas fa-info-circle"></i> Turn your coaching material into online eCourses that clients can 
                    access on-demand. Perfect as a lead-in to professional coaching for those people who are not yet aware 
                    of the benefits of coaching or ready to make the committment, eCourses allow clients to get started in 
                    a very affordable way, learn completely on their own schedule and hopefully build a rapport with you so 
                    that they are eager to take the next step after completing your eCourse.
                    Want to read more? <a href="https://lifecoach.freshdesk.com/support/solutions/articles/47001135032-what-are-courses-" target="_blank">Read the guide.</a>
                </p>
            </div>
        </div>
        <div class=" row mt-2">
            <div class=" col">
                <button
                    type="button"
                    class=" btn btn-primary btn-fill btn-round pull-right mb-3"
                    (click)="createCourse()"
                    [disabled]="!userProfile">
                    <i class=" tim-icons icon-simple-add"></i> Create eCourse
                </button>
            </div>
        </div>

        <!-- No public coach profile -->
        <div class=" row" *ngIf="!userProfile">
            <div class=" col">
                <div class=" card">
                    <div class=" card-body">
                        <p class="p-4">
                            Before you can create eCourses, you must complete your public coach profile. 
                            Let's <a [routerLink]="['/profile']">
                                complete your profile now.
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- public profile but no ecourses created yet -->
        <div class=" row" *ngIf="userProfile && (!publishedCourses || publishedCourses && publishedCourses.length === 0)">
            <div class=" col">
                <div class=" card">
                    <div class=" card-body">
                        <p class="p-4">
                            You haven't created any eCourses yet. Let's 
                            <a [routerLink]="['/my-courses', 'new-course']">
                                create one now!
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- coach has created at least 1 ecourse -->
        <div class=" row mt-3" *ngIf="publishedCourses && publishedCourses.length > 0">
            <div *ngFor="let course of publishedCourses ; let i = index" class=" col-md-4">
                <a [routerLink]="['/my-courses', course.courseId, 'content']">
                    <div class=" card">

                        <!-- Card image -->
                        <img
                        class="card-img-top"
                        [src]="course.image ? course.image : 'assets/img/awaiting-image.png'"
                        [alt]="course.title" />

                        <!-- Card body -->
                        <div class=" card-body">
                            <h4 class="card-title"> {{ course?.title }} </h4>
                            <h6 class="card-subtitle mb-2 text-muted"> {{ course?.subtitle }} </h6>
                            <div>
                                <span *ngIf="course?.reviewRequest?.status === 'submitted'" class=" badge badge-info ml-2">
                                    SUBMITTED FOR REVIEW
                                </span>
                                <span *ngIf="course?.reviewRequest?.status === 'approved'" class=" badge badge-success ml-2">
                                    PUBLISHED
                                </span>
                                <span *ngIf="course?.reviewRequest?.status === 'rejected'" class=" badge badge-danger ml-2">
                                    NEEDS ACTION
                                </span>
                                <span *ngIf="!course?.reviewRequest?.status" class=" badge badge-warning ml-2">
                                    DRAFT
                                </span>
                            </div>
                            <div>
                                <blockquote class="blockquote mt-3 mb-0">
                                    <h6>
                                        <span class=" text-muted">
                                            Earned this month: 
                                        </span>
                                    </h6>
                                    <div *ngIf="publishedCourses[i]?.monthlyEarnings" class="">
                                        <!-- list each unique currency's total sales amount -->
                                        <p *ngFor="let key of objKeys(publishedCourses[i]?.monthlyEarnings)">
                                            {{ currencies[key.toUpperCase()].symbol + publishedCourses[i].monthlyEarnings[key].monthTotalInThisCurrency }}
                                        </p>
                                    </div>
                                    <!-- no sales this month -->
                                    <div *ngIf="publishedCourses[i]?.monthlyEarnings">
                                        <p *ngIf="objKeys(publishedCourses[i].monthlyEarnings).length == 0">
                                            0
                                        </p>
                                    </div>

                                    <!-- lifetime total enrollments for this course -->
                                    <div *ngIf="publishedCourses[i]?.lifetimeTotals">
                                        <h6>
                                            <span class=" text-muted">
                                                Lifetime total earnings: 
                                            </span>
                                        </h6>
                                        <div *ngFor="let key of objKeys(publishedCourses[i].lifetimeTotals)">
                                            <p *ngIf="key !== 'free'">
                                                {{ currencies[(key).toUpperCase()].symbol + publishedCourses[i].lifetimeTotals[key].lifetimeTotalAmount / 100 }}
                                            </p>
                                        </div>
                                        <h6 class="">
                                            <span class=" text-muted">
                                                Lifetime total enrollments: 
                                            </span>
                                        </h6>
                                        <p>
                                            {{ publishedCourses[i].lifetimeTotalSales }}
                                        </p>
                                    </div>
                                </blockquote>
                            </div>
                        </div>
                    </div>
                </a>
                
            </div>
        </div>
    </div>

</div>