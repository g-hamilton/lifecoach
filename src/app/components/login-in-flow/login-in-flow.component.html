<div *ngIf="showAlert" class=" row mt-4">
  <div class=" col-md-12">
    <alert class="alert-with-icon" [type]="'success alert-with-icon'"  [dismissible]="true">
      <span class=" tim-icons icon-alert-circle-exc" data-notify="icon"></span>
      <span>{{ alertText }}</span>
    </alert>
  </div>
</div>

<div class=" row mt-4 mb-4">

    <!-- LOGIN -->
    <div class=" col-md-6 login-col">
        <form
        class=" form"
        id="loginValidation"
        [formGroup]="loginForm"
        (ngSubmit)="sendEmailLink()"
        >
          <div class="">
            <div class="">
              <h4 class=""> Already a member? <span class=" text-success">Log in</span> </h4>
            </div>
            <div class="">

              <!-- Email -->
              <label>
                Important! Only use your registered Lifecoach account email...
              </label>
              <div
                class=" input-group"
                [ngClass]="{
                  'input-group-focus': focus === true,
                  'has-danger':
                    ((focusTouched || login) && loginF.email.errors) ||
                    (loginF.email.value != '' && loginF.email.errors),
                  'has-success': loginF.email.value != '' && !loginF.email.errors
                }"
              >
                <div class=" input-group-prepend">
                  <div class=" input-group-text">
                    <i class=" tim-icons icon-email-85"> </i>
                  </div>
                </div>
                <input
                  class=" form-control"
                  name="email"
                  formControlName="email"
                  placeholder="Email"
                  type="email"
                  (focus)="focus = true; focusTouched = true"
                  (blur)="focus = false"
                  required=""
                />
              </div>
              <div
                class="error custom-error-label"
                *ngIf="
                  ((focusTouched || login) && loginF.email.errors) ||
                  (loginF.email.value != '' && loginF.email.errors)
                "
                > Please enter your login email address.
              </div>

            </div>
            <div class=" pull-right">
              <!-- Login Submit Button -->
              <button
              class=" btn btn-primary btn-round btn-lg"
              type="submit"
              [disabled]="loginForm.invalid || emailSent"
              >
                <span
                *ngIf="login"
                class="spinner-border spinner-border-sm"
                role="status"
                ></span> 
                <span *ngIf="!login">
                  <i class="fas fa-link mr-2"></i>
                </span>
                {{ login ? 'Sending Email...' : 'Get Login Link' }}
              </button>
            </div>
          </div>
        </form>
    </div>

    <!-- REGISTER -->
    <div class=" col-md-6 register-col">
        <div class="">
          <div class="">
            <h4 class=""> New to Lifecoach? <span class=" text-success">Join FREE</span> </h4>
          </div>
          <form
            class=" form"
            id="RegisterValidation"
            [formGroup]="registerForm"
            (ngSubmit)="sendEmailLinkRegister()"
          >
            <div class="">

              <div class=" row">

              <!-- Email -->
              <label>
                Enter your email to register free & receive a secure login link...
              </label>
              <div
                class=" input-group"
                [ngClass]="{
                  'input-group-focus': focus4 === true,
                  'has-danger':
                    ((focusTouched4 || register) && registerF.email.errors) ||
                    (registerF.email.value != '' && registerF.email.errors),
                  'has-success': registerF.email.value != '' && !registerF.email.errors
                }"
              >
                <div class=" input-group-prepend">
                  <div class=" input-group-text">
                    <i class=" tim-icons icon-email-85"> </i>
                  </div>
                </div>
                <input
                  class=" form-control"
                  name="email"
                  formControlName="email"
                  placeholder="Email"
                  type="email"
                  (focus)="focus4 = true; focusTouched4 = true"
                  (blur)="focus4 = false"
                  required=""
                />
                <label
                class="error custom-error-label"
                *ngIf="
                  ((focusTouched4 || register) && registerF.email.errors) ||
                  (registerF.email.value != '' && registerF.email.errors)
                "
                > We will never share your email address without your permission.
                </label>
              </div>

            </div>
            <div class=" pull-right">
              <!-- Form Submit Button -->
              <button
              class=" btn btn-primary btn-round btn-lg mt-3"
              type="submit"
              [disabled]="!this.registerForm.valid"
              >
                <span
                *ngIf="register"
                class="spinner-border spinner-border-sm"
                role="status"
                ></span>
                {{ register ? 'Sending Email...' : 'Sign Up!' }}
              </button>
            </div>
            </div>
          </form>
        </div>
    </div>

    <div class=" col-md-12 text-right">
        <h6 class=" mt-3">
            <a class=" link footer-link" href="https://lifecoach.freshdesk.com/support/home" target="_blank">
                Need Help?
            </a>
        </h6>
    </div>

</div>
